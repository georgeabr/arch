Arch Install - LXQt desktop example

1. check internet connection:
ping archlinux.org

2. update system clock
timedatectl set-ntp true

3. cfdisk - UEFI GPT
cfdisk /dev/sda
sda1: efi system, sda2: swap, sda3: root, sda4: home
efi system partition: type: EFI System, size: 512Mb, format: fat32

4. format partitions
mkfs.fat -F32 /dev/sda1
mkfs.ext4 /dev/sda3
mkfs.ext4 /dev/sda4
mkswap /dev/sda2
swapon /dev/sda2

5. mount partitions
mount /dev/sda3 /mnt
mkdir -p /mnt/boot/EFI
mount /dev/sda1 /mnt/boot/EFI
mkdir /mnt/home
mount /dev/sda4 /mnt/home

6. install base packages
pacstrap /mnt base base-devel

7. create fstab
genfstab -U /mnt >> /mnt/etc/fstab

8. chroot into system
arch-chroot /mnt

9. configure timezone
rm -rf /etc/localtime
to list geographic areas:
ls /usr/share/zoneinfo/
pick timezome and:
ln -sf /usr/share/zoneinfo/America/Phoenix /etc/localtime
hwclock --systohc --utc

10. configure locale
nano /etc/locale.gen
uncomment lines:
en_US.UTF-8 UTF-8
locale-gen
echo LANG=en_US.UTF-8 > /etc/locale.conf
export LANG=en_US.UTF-8

11. configure networking

   A. hostname
   echo ezarch > /etc/hostname

   B. hosts file
   nano /etc/hosts
   Add lines:
   127.0.0.1	localhost
   ::1		localhost
   127.0.1.1	ezarch.localdomain ezarch

   C. enable dhcpcd
   systemctl enable dhcpcd.service

   D. enable SSH
   pacman -Sy openssh
   systemctl enable sshd.service

12. create root password and user
passwd root
useradd -m -G wheel -s /bin/bash eznix
passwd eznix
export VISUAL=nano
export EDITOR=nano
visudo /etc/sudoers
uncomment line: 
%wheel ALL=(ALL) ALL

13. install GRUB
pacman -Sy grub efibootmgr dosfstools os-prober mtools
grub-install --target=x86_64-efi  --bootloader-id=grub_uefi --recheck
grub-mkconfig -o /boot/grub/grub.cfg

14. mkinitcpio
mkinitcpio -p linux

15. exit chroot
exit (arch-chroot)
umount -a
reboot

16. first boot

   A. login as root

   B. check network
   ip addr
   ping archlinux.org
   if necessary:
   systemctl start dhcpcd
   systemctl enable dhcpcd

   C. Update system
   pacman -Syyu

   D. install software
   pacman -Sy xorg xterm xorg-drivers
   pacman -S lxqt sddm breeze-icons xscreensaver papirus-icon-theme qterminal kwrite ttf-ubuntu-font-family ttf-dejavu ttf-bitstream-vera ttf-liberation noto-fonts
   pacman -S networkmanager networkmanager-qt nm-connection-editor network-manager-applet wget curl firefox thunderbird qbittorrent rsync
   pacman -S print-manager foomatic-db foomatic-db-engine gutenprint hplip skanlite cups cups-pdf cups-filters ghostscript gsfonts
   pacman -S xarchiver p7zip archiso xdg-user-dirs haveged gvfs partitionmanager pacman-contrib pkgfile git lxqt-sudo
   pacman -S pulseaudio pavucontrol-qt vlc clementine simplescreenrecorder kdenlive k3b cdrtools cdrdao transcode
   pacman -S linux-headers dkms

   E. enable services
   systemctl enable sddm.service
   systemctl enable org.cups.cupsd.service
   systemctl enable NetworkManager

